/* Override default MarkerCluster background colors */
/* Global styles for Leaflet library components */

/* Fix z-index to prevent map from covering navigation dropdown */
.leaflet-container {
  z-index: 1 !important;
}

.leaflet-pane,
.leaflet-tile-pane,
.leaflet-overlay-pane,
.leaflet-shadow-pane,
.leaflet-tooltip-pane {
  z-index: auto !important;
}

/* Ensure marker pane has proper z-index for visibility */
.leaflet-marker-pane {
  z-index: 600 !important;
}

/* Popup needs higher z-index to be visible, but below navigation (z-50) */
.leaflet-popup-pane {
  z-index: 40 !important;
}

.marker-cluster-small,
.marker-cluster-medium,
.marker-cluster-large,
.custom-cluster-icon {
  background-color: transparent !important;
  background: transparent !important;
}

.marker-cluster-small div,
.marker-cluster-medium div,
.marker-cluster-large div,
.custom-cluster-icon div {
  background-color: transparent !important;
  margin: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Remove default span backgrounds */
.marker-cluster-small span,
.marker-cluster-medium span,
.marker-cluster-large span,
.custom-cluster-icon span {
  background-color: transparent !important;
  display: none !important;
}

/* Make sure our custom div with gradient is visible and has no extra backgrounds */
div[style*="background: linear-gradient"] {
  display: flex !important;
}

/* Remove any parent div backgrounds */
.leaflet-marker-icon.custom-cluster-icon {
  background: none !important;
  border: none !important;
}

.leaflet-marker-icon.custom-cluster-icon > div {
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure custom markers are always visible */
.leaflet-marker-icon.custom-marker {
  background: none !important;
  border: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 1000 !important;
  position: relative !important;
}

.leaflet-marker-icon.custom-marker > div {
  display: flex !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* Ensure cluster icons are visible */
.leaflet-marker-icon.custom-cluster-icon {
  z-index: 900 !important;
  position: relative !important;
}

/* Map control button active state with brown gradient in dark mode */
.map-button-active {
  background: linear-gradient(135deg, #4A2C2A, #6B4423) !important;
}

.dark .map-button-active {
  background: linear-gradient(135deg, #2A1810, #3D1F15) !important;
}

.map-button-active:hover {
  opacity: 0.9;
}

/* Attribution styling */
.leaflet-control-attribution {
  background: rgba(255, 255, 255, 0.9) !important;
  padding: 2px 6px !important;
  font-size: 10px !important;
  border-radius: 4px 0 0 0 !important;
}

.dark .leaflet-control-attribution {
  background: rgba(31, 41, 55, 0.9) !important;
  color: rgba(229, 231, 235, 0.8) !important;
}

.leaflet-control-attribution a {
  color: #4A2C2A !important;
  text-decoration: none !important;
}

.dark .leaflet-control-attribution a {
  color: #F5E6D3 !important;
}
